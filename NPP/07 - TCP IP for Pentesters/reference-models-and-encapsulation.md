# Reference Models & Encapsulation

## Reference Models  
Standards for developers and vendors to build compatible products.

- **OSI (7 layers)**  
  7 Application  
  6 Presentation  
  5 Session  
  4 Transport  
  3 Network  
  2 Data Link  
  1 Physical

- **TCP/IP (4 layers)**  
  4 Application  
  3 Transport  
  2 Internet  
  1 Network Access

- **Unofficial Hybrid**  
  5 Application (HTTP/DNS)  
  4 Transport (TCP/UDP)  
  3 Network (IP)  
  2 Data Link (Ethernet)  
  1 Physical

---

## Encapsulation Example  
Demonstrates how higher‑level data is wrapped by each layer:

```text
Ethernet Frame  
└─ IP Packet  
   └─ TCP Segment  
      └─ HTTP Data
```

---

## Protocol Analyzers  
- **Wireshark**: GUI packet capture & analysis  
- **tcpdump**: Command-line packet sniffer

---

## Time To Live (TTL)  
Controls packet lifespan through the network:

- Decremented by 1 at each router (hop); packets dropped when TTL = 0.  
- Default values: Linux = 64, Windows = 128, Unix = 255.  
- **Example:**
  ```bash
  ping -c 1 -t 1 example.com
  ```

---

## Byte-Level Network Data Analysis  
Network traffic is a stream of bytes forming frames, packets, segments, and payloads.

- **Ethernet header** (first 14 bytes):  
  - Bytes 0–5: Destination MAC  
  - Bytes 6–11: Source MAC  
  - Bytes 12–13: EtherType (e.g., `08 00` = IPv4)

- **Tools:**
  ```bash
  hexdump -C capture.bin
  printf "%d\n" 0x1E       # Convert hex to decimal
  printf "%c\n" 0x41       # Convert hex to ASCII
  ```

---
